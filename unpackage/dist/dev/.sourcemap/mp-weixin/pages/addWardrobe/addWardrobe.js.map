{"version":3,"sources":["webpack:///C:/Users/天下无敌第一帅/Desktop/work/qj/pages/addWardrobe/addWardrobe.vue","webpack:///C:/Users/天下无敌第一帅/Desktop/work/qj/css/addWardrobe.css","webpack:///C:/Users/天下无敌第一帅/Desktop/work/qj/pages/addWardrobe/addWardrobe.vue?b884","webpack:///C:/Users/天下无敌第一帅/Desktop/work/qj/css/addWardrobe.css?b894","webpack:///C:/Users/天下无敌第一帅/Desktop/work/qj/main.js","webpack:///C:/Users/天下无敌第一帅/Desktop/work/qj/pages/addWardrobe/addWardrobe.vue?deeb","webpack:///C:/Users/天下无敌第一帅/Desktop/work/qj/pages/addWardrobe/addWardrobe.vue?3401","webpack:///C:/Users/天下无敌第一帅/Desktop/work/qj/pages/addWardrobe/addWardrobe.vue?dd17","webpack:///C:/Users/天下无敌第一帅/Desktop/work/qj/utils/uploader.js"],"names":["initQiniu","options","qiniuUploader","init","modObj","TypeList","TypeIndex","TextureList","TextureIndex","imageURL","imgkey","len","didPressChooesImage","that","e","idx","currentTarget","dataset","id","console","log","tempDelData","delData","uni","chooseImage","count","success","res","filePath","tempFilePaths","upload","key","error","JSON","stringify","region","uptokenURL","domain","shouldUseQiniuFileName","progress","totalBytesSent","totalBytesExpectedToSend","err","data","typeList","texture","addImg","tapIndex","methods","submit","D","wardrobe","subFlag","forEach","ele","i","showModal","title","content","showCancel","confirm","wardrobeData","tag","picture","length","tempWord","push","all","globalData","navigateTo","url","add","cancel","detele","pop","bindTypeChange","detail","value","bindTextureChange","bindLengthInput","Page","App","config","qiniuRegion","qiniuImageURLPrefix","qiniuUploadToken","qiniuUploadTokenURL","qiniuUploadTokenFunction","qiniuShouldUseQiniuFileName","updateConfigWithOptions","uptoken","uptokenFunc","fail","doUpload","getQiniuToken","uploadURLFromRegionCode","fileName","split","s","fileExten","formData","uploadTask","uploadFile","name","dataString","hasOwnProperty","type","String","fromCharCode","apply","dataObject","parse","imageUrl","onProgressUpdate","callback","request","token","fileid","code","uploadURL"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA,qJ,8FALA;;AAOA;AACA,SAASA,SAAT,GAAqB;AACpB,MAAIC,OAAO,GAAG,EAAd;AACAC,oBAAcC,IAAd,CAAmBF,OAAnB;AACA;AACD,IAAMG,MAAM,GAAG;AACdC,UAAQ,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,KAAnB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,IAApC,CADI;AAEdC,WAAS,EAAE,CAFG;AAGdC,aAAW,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,EAA2C,IAA3C,EAAiD,IAAjD,EAAuD,IAAvD,CAHC;AAIdC,cAAY,EAAE,CAJA;AAKdC,UAAQ,EAAE,EALI;AAMdC,QAAM,EAAE,EANM;AAOdC,KAAG,EAAE,EAPS,EAAf;;;AAUA,SAASC,oBAAT,CAA6BC,IAA7B,EAAmCC,CAAnC,EAAsC;AACrC,MAAIC,GAAG,GAAGD,CAAC,CAACE,aAAF,CAAgBC,OAAhB,CAAwBC,EAAlC;AACAC,SAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBN,CAAC,CAACE,aAAF,CAAgBC,OAAhB,CAAwBC,EAA1C;AACA,MAAIG,WAAW,GAAGR,IAAI,CAACS,OAAvB;AACAH,SAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BC,WAA3B;AACArB,WAAS;AACT;AACAuB,KAAG,CAACC,WAAJ,CAAgB;AACfC,SAAK,EAAE,CADQ;AAEfC,WAAO,EAAE,iBAACC,GAAD,EAAS;AACjBR,aAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BO,GAA1B;AACA,UAAIC,QAAQ,GAAGD,GAAG,CAACE,aAAJ,CAAkB,CAAlB,CAAf;AACAhB,UAAI,CAACS,OAAL,GAAeD,WAAf;AACAF,aAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBP,IAAI,CAACS,OAA5B;AACAH,aAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBQ,QAAxB;AACA;AACA1B,wBAAc4B,MAAd;AACCF,cADD;AAEC,gBAACD,GAAD,EAAS;AACRR,eAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBO,GAAnB;AACAN,mBAAW,CAACN,GAAD,CAAX,CAAiBL,MAAjB,GAA0BiB,GAAG,CAACI,GAA9B;AACAZ,eAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBC,WAAW,CAACN,GAAD,CAAX,CAAiBL,MAAvC;AACAW,mBAAW,CAACN,GAAD,CAAX,CAAiBN,QAAjB,GAA4BkB,GAAG,CAAClB,QAAhC;AACAI,YAAI,CAACS,OAAL,GAAeD,WAAf;AACAF,eAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBP,IAAI,CAACS,OAA5B;AACA,OATF;AAUC,gBAACU,KAAD,EAAW;AACVb,eAAO,CAACa,KAAR,CAAc,YAAYC,IAAI,CAACC,SAAL,CAAeF,KAAf,CAA1B;AACA,OAZF,EAYI;AACFG,cAAM,EAAE,KADN,EACa;AACfC,kBAAU,EAAE,oCAFV;AAGFC,cAAM,EAAE,yBAHN;AAIFC,8BAAsB,EAAE,KAJtB,EAZJ;;AAkBC;AACA,gBAACC,QAAD,EAAc;AACbpB,eAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBmB,QAAQ,CAACA,QAA7B;AACApB,eAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBmB,QAAQ,CAACC,cAAlC;AACArB,eAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BmB,QAAQ,CAACE,wBAArC;AACA,OAvBF;;AAyBA,KAlCc;AAmCfT,SAAK,EAAE,eAASU,GAAT,EAAc;AACpBvB,aAAO,CAACC,GAAR,CAAYsB,GAAZ;AACA,KArCc,EAAhB;;AAuCA,C;;AAEc;AACdC,MADc,kBACP;AACN,WAAO;AACN;AACArB,aAAO,EAAE;AACRlB,YADQ,CAFH;;AAKN;AACAwC,cAAQ,EAAExC,MAAM,CAACC,QANX;AAON;AACAwC,aAAO,EAAEzC,MAAM,CAACG,WARV;AASN;AACAuC,YAAM,EAAE,iCAVF;AAWN;AACA5B,QAAE,EAAE,CAZE;AAaN;AACA6B,cAAQ,EAAE,CAdJ,EAAP;;AAgBA,GAlBa;AAmBdC,SAAO,EAAE;AACRC,UADQ,oBACC;AACR,UAAIC,CAAC,GAAG,KAAK5B,OAAb;AACA,UAAI6B,QAAQ,GAAG,EAAf;AACA,UAAIC,OAAO,GAAG,IAAd;AACAF,OAAC,CAACG,OAAF,CAAU,UAACC,GAAD,EAAMC,CAAN,EAAY;AACrB,YAAI,CAACD,GAAG,CAAC7C,QAAT,EAAmB;AAClBc,aAAG,CAACiC,SAAJ,CAAc;AACbC,iBAAK,EAAE,IADM;AAEbC,mBAAO,mBAAOH,CAAC,GAAC,CAAT,4DAFM;AAGbI,sBAAU,EAAE,KAHC;AAIbjC,mBAAO,EAAE,iBAASC,GAAT,EAAc;AACtB,kBAAIA,GAAG,CAACiC,OAAR,EAAiB;AAChBzC,uBAAO,CAACC,GAAR,CAAY,QAAZ;AACA;AACD,aARY,EAAd;;AAUAgC,iBAAO,GAAG,KAAV;AACA;AACD,OAdD;AAeA,UAAIA,OAAJ,EAAa;AACZjC,eAAO,CAACC,GAAR,CAAY,GAAZ,EAAiB8B,CAAjB;AACA,YAAIW,YAAY,GAAG,EAAnB;AACAX,SAAC,CAACG,OAAF,CAAU,UAACC,GAAD,EAAMC,CAAN,EAAY;AACrB,cAAIO,GAAG,GAAGR,GAAG,CAACjD,QAAJ,CAAaiD,GAAG,CAAChD,SAAjB,CAAV;AACA,cAAIuC,OAAO,GAAGS,GAAG,CAAC/C,WAAJ,CAAgB+C,GAAG,CAAC9C,YAApB,CAAd;AACA,cAAIuD,OAAO,GAAGT,GAAG,CAAC5C,MAAlB;AACA,cAAIsD,MAAM,GAAGV,GAAG,CAAC3C,GAAjB;AACA,cAAIO,EAAE,GAAG,KAAI,CAACA,EAAd;AACA,cAAI+C,QAAQ,GAAG;AACdH,eAAG,EAAHA,GADc;AAEdjB,mBAAO,EAAPA,OAFc;AAGdkB,mBAAO,EAAPA,OAHc;AAIdC,kBAAM,EAANA,MAJc;AAKd9C,cAAE,EAAFA,EALc,EAAf;;AAOA2C,sBAAY,CAACK,IAAb,CAAkBD,QAAlB;AACA,SAdD;AAeAE,wBAAIC,UAAJ,CAAeP,YAAf,GAA8BA,YAA9B;AACA1C,eAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B+C,gBAAIC,UAAJ,CAAeP,YAA3C;AACAtC,WAAG,CAAC8C,UAAJ,CAAe;AACdC,aAAG,EAAE,oCADS,EAAf;;AAGA;AACD,KA5CO;AA6CRC,OA7CQ,iBA6CF;AACL,UAAIlD,WAAW,GAAG,KAAKC,OAAvB;AACA,UAAI,KAAKyB,QAAL,GAAgB,EAApB,EAAwB;AACvB,aAAKA,QAAL,IAAiB,CAAjB;AACA1B,mBAAW,CAAC6C,IAAZ,CAAiB9D,MAAjB;AACA,aAAKkB,OAAL,GAAeD,WAAf;AACAF,eAAO,CAACC,GAAR,CAAY,KAAKE,OAAjB;AACA,OALD,MAKO;AACNC,WAAG,CAACiC,SAAJ,CAAc;AACbC,eAAK,EAAE,IADM;AAEbC,iBAAO,EAAE,QAFI;AAGbhC,iBAAO,EAAE,iBAASC,GAAT,EAAc;AACtB,gBAAIA,GAAG,CAACiC,OAAR,EAAiB;AAChBzC,qBAAO,CAACC,GAAR,CAAY,QAAZ;AACA,aAFD,MAEO,IAAIO,GAAG,CAAC6C,MAAR,EAAgB;AACtBrD,qBAAO,CAACC,GAAR,CAAY,QAAZ;AACA;AACD,WATY,EAAd;;AAWA;AACD,KAjEO;;AAmER;AACAqD,UApEQ,oBAoEC;AACR,UAAI,KAAK1B,QAAL,IAAiB,CAArB,EAAwB;AACvB,aAAKA,QAAL,IAAiB,CAAjB;AACA5B,eAAO,CAACC,GAAR,CAAY,GAAZ,EAAiB,KAAKE,OAAtB;AACA,aAAKA,OAAL,CAAaoD,GAAb;AACA,OAJD,MAIO;AACNnD,WAAG,CAACiC,SAAJ,CAAc;AACbC,eAAK,EAAE,IADM;AAEbC,iBAAO,EAAE,OAFI;AAGbhC,iBAAO,EAAE,iBAASC,GAAT,EAAc;AACtB,gBAAIA,GAAG,CAACiC,OAAR,EAAiB;AAChBzC,qBAAO,CAACC,GAAR,CAAY,QAAZ;AACA,aAFD,MAEO,IAAIO,GAAG,CAAC6C,MAAR,EAAgB;AACtBrD,qBAAO,CAACC,GAAR,CAAY,QAAZ;AACA;AACD,WATY,EAAd;;AAWA;AACD,KAtFO;;AAwFR;AACAuD,kBAAc,EAAE,wBAAS7D,CAAT,EAAY;AAC3B,UAAIC,GAAG,GAAGD,CAAC,CAACE,aAAF,CAAgBE,EAA1B;AACA,UAAIG,WAAW,GAAG,KAAKC,OAAvB;AACA;AACAD,iBAAW,CAACN,GAAD,CAAX,CAAiBT,SAAjB,GAA6BQ,CAAC,CAAC8D,MAAF,CAASC,KAAtC;AACA,WAAKvD,OAAL,GAAeD,WAAf;;AAEA,KAhGO;;AAkGRyD,qBAlGQ,6BAkGUhE,CAlGV,EAkGa;AACpB,UAAIC,GAAG,GAAGD,CAAC,CAACE,aAAF,CAAgBE,EAA1B;AACA,UAAIG,WAAW,GAAG,KAAKC,OAAvB;AACAD,iBAAW,CAACN,GAAD,CAAX,CAAiBP,YAAjB,GAAgCM,CAAC,CAAC8D,MAAF,CAASC,KAAzC;AACA,WAAKvD,OAAL,GAAeD,WAAf;AACAF,aAAO,CAACC,GAAR,CAAY,KAAKE,OAAjB;AACA,KAxGO;;AA0GRyD,mBA1GQ,2BA0GQjE,CA1GR,EA0GW;AAClB,UAAIC,GAAG,GAAGD,CAAC,CAACE,aAAF,CAAgBE,EAA1B;AACA,UAAIG,WAAW,GAAG,KAAKC,OAAvB;AACAD,iBAAW,CAACN,GAAD,CAAX,CAAiBJ,GAAjB,GAAuBG,CAAC,CAAC8D,MAAF,CAASC,KAAhC;;AAEA,WAAKvD,OAAL,GAAeD,WAAf;;AAEAF,aAAO,CAACC,GAAR,CAAY,KAAKE,OAAjB;AACA,KAlHO;;AAoHRV,uBApHQ,+BAoHYE,CApHZ,EAoHe;AACtB,UAAID,IAAI,GAAG,IAAX;AACAD,0BAAmB,CAACC,IAAD,EAAOC,CAAP,CAAnB;AACA,KAvHO,EAnBK,E;;;;;;;;;;;;ACjIf,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,yBAAyB;AAChC;AACA;AACA,8BAA8B,kBAAkB;AAChD,wBAAwB,yBAAyB;AACjD;AACA;AACA,iBAAiB,yCAAyC,mBAAmB,EAAE;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,2BAA2B;AAC3B,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,8BAA8B,6BAA6B;AAC3D;AACA;AACA,8BAA8B,qBAAqB;AACnD;AACA;AACA;AACA;AACA,0BAA0B,oCAAoC;AAC9D,4BAA4B,8BAA8B;AAC1D,8BAA8B,uBAAuB;AACrD;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,+BAA+B;AAC/B,yBAAyB;AACzB;AACA,sCAAsC,8BAA8B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,8BAA8B;AAC1D,8BAA8B,uBAAuB;AACrD;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,+BAA+B;AAC/B,yBAAyB;AACzB;AACA,sCAAsC,8BAA8B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,8BAA8B;AAC1D,8BAA8B,uBAAuB;AACrD,8BAA8B,uBAAuB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,2BAA2B;AAC3B,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oBAAoB,uBAAuB;AAC3C,sBAAsB,8BAA8B;AACpD,wBAAwB,uBAAuB;AAC/C,wBAAwB,uBAAuB;AAC/C;AACA;AACA,oBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C,mBAAmB;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C,mBAAmB;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,WAAW,wBAAwB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB,yCAAyC;AACjE,qBAAqB;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7LA;AAAA;AAAA;AAAA;AAAwnB,CAAgB,gpBAAG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","file":"pages/addWardrobe/addWardrobe.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// pages/addWardrobe/addWardrobe.js\n\nimport request from '../../utils/req.js'\nimport cfg from '../../cfg.js'\nimport all from '../../common/global.js'\nimport qiniuUploader from '../../utils/uploader'\n\n// 初始化七牛相关参数\nfunction initQiniu() {\n\tvar options = {};\n\tqiniuUploader.init(options);\n}\nconst modObj = {\n\tTypeList: ['外套', '上装', '下装', '连衣裙', '包', '鞋', '饰品'],\n\tTypeIndex: 0,\n\tTextureList: ['棉布', '麻布', '丝绸', '毛呢', '皮革', '化纤', '混纺', '针织', '皮草', '其它'],\n\tTextureIndex: 0,\n\timageURL: '',\n\timgkey: '',\n\tlen: ''\n}\n\nfunction didPressChooesImage(that, e) {\n\tvar idx = e.currentTarget.dataset.id\n\tconsole.log(\"id\", e.currentTarget.dataset.id)\n\tlet tempDelData = that.delData\n\tconsole.log(\"tempDelData\", tempDelData)\n\tinitQiniu();\n\t// uni  API 选文件\n\tuni.chooseImage({\n\t\tcount: 1,\n\t\tsuccess: (res) => {\n\t\t\tconsole.log(\"选择照片后返回的属性\", res)\n\t\t\tvar filePath = res.tempFilePaths[0];\n\t\t\tthat.delData = tempDelData\n\t\t\tconsole.log(\"delData\", that.delData)\n\t\t\tconsole.log(\"filePath\", filePath)\n\t\t\t// 交给七牛上传\n\t\t\tqiniuUploader.upload(\n\t\t\t\tfilePath,\n\t\t\t\t(res) => {\n\t\t\t\t\tconsole.log(\"res\", res)\n\t\t\t\t\ttempDelData[idx].imgkey = res.key\n\t\t\t\t\tconsole.log(\"imgkey\", tempDelData[idx].imgkey)\n\t\t\t\t\ttempDelData[idx].imageURL = res.imageURL\n\t\t\t\t\tthat.delData = tempDelData\n\t\t\t\t\tconsole.log(\"delData\", that.delData)\n\t\t\t\t},\n\t\t\t\t(error) => {\n\t\t\t\t\tconsole.error('error: ' + JSON.stringify(error));\n\t\t\t\t}, {\n\t\t\t\t\tregion: 'SCN', // 华南区\n\t\t\t\t\tuptokenURL: 'https://minip.csqiji.com/file/init',\n\t\t\t\t\tdomain: 'http://qjqn.foxcodes.cn',\n\t\t\t\t\tshouldUseQiniuFileName: false,\n\t\t\t\t},\n\t\t\t\t// null,// 可以使用上述参数，或者使用 null 作为参数占位符\n\t\t\t\t(progress) => {\n\t\t\t\t\tconsole.log('上传进度', progress.progress)\n\t\t\t\t\tconsole.log('已经上传的数据长度', progress.totalBytesSent)\n\t\t\t\t\tconsole.log('预期需要上传的数据总长度', progress.totalBytesExpectedToSend)\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\terror: function(err) {\n\t\t\tconsole.log(err)\n\t\t}\n\t})\n}\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t//服饰的件数\n\t\t\tdelData: [\n\t\t\t\tmodObj\n\t\t\t],\n\t\t\t//列表选项列表\n\t\t\ttypeList: modObj.TypeList,\n\t\t\t//材质选项列表\n\t\t\ttexture: modObj.TextureList,\n\t\t\t//没有选择图片时默认图片\n\t\t\taddImg: \"../../static/image/addimage.png\",\n\t\t\t//新添服饰为0\n\t\t\tid: 0,\n\t\t\t//已添加\n\t\t\ttapIndex: 1,\n\t\t}\n\t},\n\tmethods: {\n\t\tsubmit() {\n\t\t\tlet D = this.delData\n\t\t\tlet wardrobe = []\n\t\t\tlet subFlag = true\n\t\t\tD.forEach((ele, i) => {\n\t\t\t\tif (!ele.imageURL) {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\tcontent: `第 ${i+1} 栏的服饰图片未添加`,\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\tconsole.log('用户点击确定')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tsubFlag = false\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (subFlag) {\n\t\t\t\tconsole.log(\"D\", D)\n\t\t\t\tlet wardrobeData = []\n\t\t\t\tD.forEach((ele, i) => {\n\t\t\t\t\tlet tag = ele.TypeList[ele.TypeIndex]\n\t\t\t\t\tlet texture = ele.TextureList[ele.TextureIndex]\n\t\t\t\t\tlet picture = ele.imgkey\n\t\t\t\t\tlet length = ele.len\n\t\t\t\t\tlet id = this.id;\n\t\t\t\t\tlet tempWord = {\n\t\t\t\t\t\ttag,\n\t\t\t\t\t\ttexture,\n\t\t\t\t\t\tpicture,\n\t\t\t\t\t\tlength,\n\t\t\t\t\t\tid\n\t\t\t\t\t}\n\t\t\t\t\twardrobeData.push(tempWord)\n\t\t\t\t})\n\t\t\t\tall.globalData.wardrobeData = wardrobeData\n\t\t\t\tconsole.log(\"wardrobeData\", all.globalData.wardrobeData)\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../wardrobePayment/wardrobePayment'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tadd() {\n\t\t\tlet tempDelData = this.delData\n\t\t\tif (this.tapIndex < 10) {\n\t\t\t\tthis.tapIndex += 1;\n\t\t\t\ttempDelData.push(modObj)\n\t\t\t\tthis.delData = tempDelData\n\t\t\t\tconsole.log(this.delData)\n\t\t\t} else {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提示',\n\t\t\t\t\tcontent: '已经达到上限',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tconsole.log('用户点击确定')\n\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\tconsole.log('用户点击取消')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\t//删除服饰\n\t\tdetele() {\n\t\t\tif (this.tapIndex != 1) {\n\t\t\t\tthis.tapIndex -= 1;\n\t\t\t\tconsole.log('前', this.delData)\n\t\t\t\tthis.delData.pop();\n\t\t\t} else {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提示',\n\t\t\t\t\tcontent: '已无法删除',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tconsole.log('用户点击确定')\n\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\tconsole.log('用户点击取消')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\t//修改类别\n\t\tbindTypeChange: function(e) {\n\t\t\tvar idx = e.currentTarget.id;\n\t\t\tlet tempDelData = this.delData\n\t\t\t//改变已添加多个别类的index\n\t\t\ttempDelData[idx].TypeIndex = e.detail.value\n\t\t\tthis.delData = tempDelData\n\n\t\t},\n\n\t\tbindTextureChange(e) {\n\t\t\tvar idx = e.currentTarget.id;\n\t\t\tlet tempDelData = this.delData\n\t\t\ttempDelData[idx].TextureIndex = e.detail.value\n\t\t\tthis.delData = tempDelData\n\t\t\tconsole.log(this.delData)\n\t\t},\n\n\t\tbindLengthInput(e) {\n\t\t\tvar idx = e.currentTarget.id;\n\t\t\tlet tempDelData = this.delData\n\t\t\ttempDelData[idx].len = e.detail.value\n\n\t\t\tthis.delData = tempDelData\n\n\t\t\tconsole.log(this.delData)\n\t\t},\n\n\t\tdidPressChooesImage(e) {\n\t\t\tvar that = this;\n\t\t\tdidPressChooesImage(that, e);\n\t\t},\n\n\n\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [\n    _c(\n      \"view\",\n      { staticClass: \"wrapper\" },\n      [\n        _vm._l(_vm.tapIndex, function(item, index) {\n          return _c(\"block\", { key: item.index }, [\n            _c(\"view\", { staticClass: \"content\" }, [\n              _c(\n                \"view\",\n                { staticClass: \"image-container\", attrs: { \"data-id\": index } },\n                [\n                  _c(\n                    \"view\",\n                    {\n                      staticClass: \"img-box\",\n                      attrs: {\n                        \"data-id\": index,\n                        eventid: \"7583374c-0-\" + index\n                      },\n                      on: { tap: _vm.didPressChooesImage }\n                    },\n                    [\n                      _c(\"image\", {\n                        staticClass: \"image\",\n                        attrs: {\n                          src: _vm.delData[index].imageURL\n                            ? _vm.delData[index].imageURL\n                            : _vm.addImg,\n                          mode: \"aspectFit\"\n                        }\n                      })\n                    ]\n                  ),\n                  _c(\"text\", { staticClass: \"imageupload\" }, [\n                    _vm._v(\"* 传服饰图片\")\n                  ]),\n                  _c(\"text\", { staticClass: \"num\" }, [\n                    _vm._v(_vm._s(index + 1))\n                  ])\n                ]\n              ),\n              _c(\"view\", { staticClass: \"wardrobe-container\" }, [\n                _c(\"view\", { staticClass: \"wardrobeItem\" }, [\n                  _c(\"view\", { staticClass: \"label\" }, [_vm._v(\"* 选择类别\")]),\n                  _c(\n                    \"view\",\n                    { staticClass: \"input\" },\n                    [\n                      _c(\n                        \"picker\",\n                        {\n                          attrs: {\n                            name: \"wardrobeType\",\n                            id: index,\n                            value: _vm.delData[index].TypeIndex,\n                            range: _vm.typeList,\n                            eventid: \"7583374c-1-\" + index\n                          },\n                          on: { change: _vm.bindTypeChange }\n                        },\n                        [\n                          _c(\"view\", { staticClass: \"defaultcolor\" }, [\n                            _vm._v(\n                              _vm._s(\n                                _vm.delData[index].TypeList[\n                                  _vm.delData[index].TypeIndex\n                                ]\n                              )\n                            )\n                          ])\n                        ]\n                      )\n                    ],\n                    1\n                  )\n                ]),\n                _c(\"view\", { staticClass: \"wardrobeItem\" }, [\n                  _c(\"view\", { staticClass: \"label\" }, [_vm._v(\"* 选择材质\")]),\n                  _c(\n                    \"view\",\n                    { staticClass: \"input\" },\n                    [\n                      _c(\n                        \"picker\",\n                        {\n                          attrs: {\n                            name: \"wardrobeTexture\",\n                            id: index,\n                            value: _vm.delData[index].TextureIndex,\n                            range: _vm.texture,\n                            eventid: \"7583374c-2-\" + index\n                          },\n                          on: { change: _vm.bindTextureChange }\n                        },\n                        [\n                          _c(\"view\", { staticClass: \"defaultcolor\" }, [\n                            _vm._v(\n                              _vm._s(\n                                _vm.delData[index].TextureList[\n                                  _vm.delData[index].TextureIndex\n                                ]\n                              )\n                            )\n                          ])\n                        ]\n                      )\n                    ],\n                    1\n                  )\n                ]),\n                _c(\"view\", { staticClass: \"wardrobeItem\" }, [\n                  _c(\"view\", { staticClass: \"label\" }, [_vm._v(\"* 描述\")]),\n                  _c(\"view\", { staticClass: \"input\" }, [\n                    _c(\"input\", {\n                      attrs: {\n                        type: \"text\",\n                        id: index,\n                        \"placeholder-style\": \"color:#ccc\",\n                        placeholder: \"描述内容\",\n                        value: _vm.delData[index].len,\n                        eventid: \"7583374c-3-\" + index\n                      },\n                      on: { input: _vm.bindLengthInput }\n                    })\n                  ])\n                ])\n              ])\n            ])\n          ])\n        }),\n        _c(\"view\", { staticClass: \"added\" }, [\n          _c(\"view\", { staticClass: \"wardrobeItem\" }, [\n            _c(\"view\", { staticClass: \"label\" }, [_vm._v(\"已添加\")]),\n            _c(\"view\", { staticClass: \"input\" }, [_vm._v(_vm._s(_vm.tapIndex))])\n          ])\n        ]),\n        _c(\"view\", { staticClass: \"del-add\" }, [\n          _c(\n            \"view\",\n            {\n              staticClass: \"up1\",\n              attrs: { eventid: \"7583374c-4\" },\n              on: { tap: _vm.detele }\n            },\n            [_vm._v(\"删除\")]\n          ),\n          _c(\n            \"view\",\n            {\n              staticClass: \"up2\",\n              attrs: { eventid: \"7583374c-5\" },\n              on: { tap: _vm.add }\n            },\n            [_vm._v(\"增加\")]\n          )\n        ]),\n        _c(\n          \"view\",\n          { staticClass: \"upload\" },\n          [\n            _c(\n              \"button\",\n              {\n                staticClass: \"btn\",\n                staticStyle: {\n                  width: \"60%\",\n                  background: \"rgb(49,181,255)\",\n                  color: \"#FFFFFF\",\n                  \"font-size\": \"16px\"\n                },\n                attrs: { type: \"default\", eventid: \"7583374c-6\" },\n                on: { tap: _vm.submit }\n              },\n              [_vm._v(\"确认添加服饰\")]\n            )\n          ],\n          1\n        )\n      ],\n      2\n    )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!./addWardrobe.css?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!./addWardrobe.css?vue&type=style&index=0&lang=css&\"","import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/addWardrobe/addWardrobe.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./addWardrobe.vue?vue&type=template&id=6671b978&\"\nimport script from \"./addWardrobe.vue?vue&type=script&lang=js&\"\nexport * from \"./addWardrobe.vue?vue&type=script&lang=js&\"\nimport style0 from \"../../css/addWardrobe.css?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('6671b978', component.options)\n    } else {\n      api.reload('6671b978', component.options)\n    }\n    module.hot.accept(\"./addWardrobe.vue?vue&type=template&id=6671b978&\", function () {\n      api.rerender('6671b978', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/天下无敌第一帅/Desktop/work/qj/pages/addWardrobe/addWardrobe.vue\"\nexport default component.exports","import mod from \"-!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./addWardrobe.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./addWardrobe.vue?vue&type=script&lang=js&\"","export * from \"-!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\web\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./addWardrobe.vue?vue&type=template&id=6671b978&\"","// created by gpake\r\n\r\n\r\nvar config = {\r\n    qiniuRegion: '',\r\n    qiniuImageURLPrefix: '',\r\n    qiniuUploadToken: '',\r\n    qiniuUploadTokenURL: '',\r\n    qiniuUploadTokenFunction: null,\r\n    qiniuShouldUseQiniuFileName: false,\r\n    key: null\r\n}\r\n// 在整个程序生命周期中，只需要 init 一次即可\r\n// 如果需要变更参数，再调用 init 即可\r\nfunction init(options) {\r\n    config = {\r\n        qiniuRegion: '',\r\n        qiniuImageURLPrefix: '',\r\n        qiniuUploadToken: '',\r\n        qiniuUploadTokenURL: '',\r\n        qiniuUploadTokenFunction: null,\r\n        qiniuShouldUseQiniuFileName: false\r\n    };\r\n    console.log(\"init config...\");\r\n    // updateConfigWithOptions(options);\r\n}\r\n\r\nfunction updateConfigWithOptions(options) {\r\n    if (options.region) {\r\n        config.qiniuRegion = options.region;\r\n    } else {\r\n        console.error('qiniu uploader need your bucket region');\r\n    }\r\n    if (options.uptoken) {\r\n        config.qiniuUploadToken = options.uptoken;\r\n    } else if (options.uptokenURL) {\r\n        config.qiniuUploadTokenURL = options.uptokenURL;\r\n    } else if(options.uptokenFunc) {\r\n        config.qiniuUploadTokenFunction = options.uptokenFunc;\r\n    }\r\n    if (options.domain) {\r\n        config.qiniuImageURLPrefix = options.domain;\r\n    }\r\n    config.qiniuShouldUseQiniuFileName = options.shouldUseQiniuFileName\r\n}\r\n\r\nfunction upload(filePath, success, fail, options, progress) {\r\n    if (null == filePath) {\r\n        console.error('qiniu uploader need filePath to upload');\r\n        return;\r\n    }\r\n    if (options) {\r\n      updateConfigWithOptions(options);\r\n    }\r\n    if (config.qiniuUploadToken) {\r\n        doUpload(filePath, success, fail, options, progress);\r\n    } else if (config.qiniuUploadTokenURL) {\r\n        getQiniuToken(function() {\r\n            doUpload(filePath, success, fail, options, progress);\r\n        });\r\n    } else if (config.qiniuUploadTokenFunction) {\r\n        config.qiniuUploadToken = config.qiniuUploadTokenFunction();\r\n        if (null == config.qiniuUploadToken && config.qiniuUploadToken.length > 0) {\r\n            console.error('qiniu UploadTokenFunction result is null, please check the return value');\r\n            return\r\n        }\r\n        doUpload(filePath, success, fail, options, progress);\r\n    } else {\r\n        console.error('qiniu uploader need one of [uptoken, uptokenURL, uptokenFunc]');\r\n        return;\r\n    }\r\n}\r\n\r\nfunction doUpload(filePath, success, fail, options, progress) {\r\n    if (null == config.qiniuUploadToken && config.qiniuUploadToken.length > 0) {\r\n        console.error('qiniu UploadToken is null, please check the init config or networking');\r\n        return\r\n    }\r\n    var url = uploadURLFromRegionCode(config.qiniuRegion);\r\n    var fileName = filePath.split('//')[1];\r\n    var s = filePath.split('.');\r\n    var fileExten = s[s.length-1];\r\n    if (options && options.key) {\r\n        fileName = options.key;\r\n    }else if(config && config.key){\r\n        fileName = config.key+'.'+fileExten;\r\n    }\r\n    var formData = {\r\n        'token': config.qiniuUploadToken\r\n    };\r\n    if (!config.qiniuShouldUseQiniuFileName) {\r\n      formData['key'] = fileName\r\n    }\r\n    var uploadTask = uni.uploadFile({\r\n        url,\r\n        filePath,\r\n        name: 'file',\r\n        formData,\r\n        success: function (res) {\r\n          var dataString = res.data\r\n\t\t  console.log(\"dataString\",dataString)\r\n          if(res.data.hasOwnProperty('type') && res.data.type === 'Buffer'){\r\n            dataString = String.fromCharCode.apply(null, res.data.data)\r\n\t\t\tconsole.log(\"dataString\",dataString)\r\n          }          \r\n          try {\r\n            var dataObject = JSON.parse(dataString);\r\n            //do something\r\n            var imageUrl = config.qiniuImageURLPrefix + '/' + dataObject.key;\r\n            dataObject.imageURL = imageUrl;\r\n            console.log(\"dataObject\",dataObject);\r\n            if (success) {\r\n\t\t\t\tconsole.log(\"succcess\")\r\n              success(dataObject);\r\n            }\r\n          } catch(e) {\r\n            console.log('parse JSON failed, origin String is: ' + dataString)\r\n            if (fail) {\r\n\t\t\t\tconsole.log(\"fail\",e)\r\n              fail(e);\r\n            }\r\n          }\r\n        },\r\n        fail: function (error) {\r\n            console.error(error);\r\n            if (fail) {\r\n                fail(error);\r\n            }\r\n        }\r\n    })\r\n\r\n    uploadTask.onProgressUpdate((res) => {\r\n        progress && progress(res)\r\n    })\r\n}\r\n\r\nfunction getQiniuToken(callback) {\r\n  uni.request({\r\n    url: config.qiniuUploadTokenURL,\r\n    success: function (res) {\r\n      console.log(res)\r\n      var token = res.data.token;\r\n      var fileid = res.data.fileid;\r\n      console.log(\"fileid\",fileid,res.data.fileid)\r\n      if (token && token.length > 0 ) {\r\n        config.qiniuUploadToken = token;\r\n        if (fileid){\r\n            config.key = fileid;\r\n            if (callback) {\r\n                callback();\r\n            }\r\n        }else{\r\n            console.error('qiniuUploader cannot get your fileid, please check the uptokenURL or server')\r\n        }\r\n      } else {\r\n        console.error('qiniuUploader cannot get your token, please check the uptokenURL or server')\r\n      }\r\n    },\r\n    fail: function (error) {\r\n      console.error('qiniu UploadToken is null, please check the init config or networking: ' + error);\r\n    }\r\n  })\r\n}\r\n\r\nfunction uploadURLFromRegionCode(code) {\r\n    var uploadURL = null;\r\n    switch(code) {\r\n        case 'ECN': uploadURL = 'https://up.qbox.me'; break;\r\n        case 'NCN': uploadURL = 'https://up-z1.qbox.me'; break;\r\n        case 'SCN': uploadURL = 'https://up-z2.qiniup.com'; break;\r\n        case 'NA': uploadURL = 'https://up-na0.qbox.me'; break;\r\n        case 'ASG': uploadURL = 'https://up-as0.qbox.me'; break;\r\n        default: console.error('please make the region is with one of [ECN, SCN, NCN, NA, ASG]');\r\n    }\r\n    return uploadURL;\r\n}\r\nexport default{\r\n\tinit,\r\n\tupload\r\n}\r\n"],"sourceRoot":""}